<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script>
      var categoryList = ["Laptop", "IPad", "Moniter", "Camera", "Headphones"];
      var productList = [
        {
          productId: 1,
          rating: 3,
          isOffer: false,
          productName: "HP Notebook",
          category: "Laptop",
          price: 1099,
          discount: 12,
          availableQty: 3,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/4.webp",
        },
        {
          productId: 2,
          rating: 1,
          isOffer: false,
          productName: "HP Envy",
          category: "Laptop",
          price: 1250,
          discount: 20,
          availableQty: 0,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/5.webp",
        },
        {
          productId: 3,
          rating: 2,
          isOffer: true,
          productName: "Toshiba B77",
          category: "Laptop",
          price: 34000,
          discount: 30,
          availableQty: 5,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/7.webp",
        },
        {
          productId: 4,
          rating: 5,
          isOffer: false,
          productName: "HP I-Pad",
          category: "IPad",
          price: 7600,
          discount: 5,
          availableQty: 0,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/1.webp",
        },
        {
          productId: 5,
          rating: 3,
          isOffer: true,
          productName: "HP I-pad-Max",
          category: "IPad",
          price: 5700,
          discount: 65,
          availableQty: 2,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/2.webp",
        },
        {
          productId: 6,
          rating: 1,
          isOffer: false,
          productName: "I Wide Moniter",
          category: "Moniter",
          price: 12360,
          discount: 23,
          availableQty: 8,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/3.webp",
        },
        {
          productId: 7,
          rating: 3,
          isOffer: true,
          productName: "HP P-Series",
          category: "Laptop",
          price: 34500,
          discount: 53,
          availableQty: 3,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/12.webp",
        },
        {
          productId: 8,
          rating: 2,
          isOffer: false,
          productName: "Sony T-RT",
          category: "Mobile",
          price: 23000,
          discount: 60,
          availableQty: 0,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/8.webp",
        },
        {
          productId: 9,
          rating: 5,
          isOffer: true,
          productName: "Sony Camera",
          category: "Camera",
          price: 43200,
          discount: 21,
          availableQty: 1,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/9.webp",
        },
        {
          productId: 10,
          rating: 1,
          isOffer: false,
          productName: "Boat Max-250",
          category: "Headphones",
          price: 3000,
          discount: 32,
          availableQty: 2,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/10.webp",
        },
        {
          productId: 11,
          rating: 2,
          isOffer: false,
          productName: "Lenovo 32 Moniter",
          category: "Moniter",
          price: 5700,
          discount: 24,
          availableQty: 4,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/14.webp",
        },
        {
          productId: 12,
          rating: 4,
          isOffer: true,
          productName: "JBL 500",
          category: "Headphones",
          price: 3560,
          discount: 54,
          availableQty: 7,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/15.webp",
        },
        {
          productId: 13,
          rating: 3,
          isOffer: false,
          productName: "Samsung 012",
          category: "Camera",
          price: 3200,
          discount: 62,
          availableQty: 2,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/16.webp",
        },
        {
          productId: 14,
          rating: 2,
          isOffer: false,
          productName: "Dell Asp-343",
          category: "Laptop",
          price: 67000,
          discount: 15,
          availableQty: 8,
          imageUrl:
            "https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/7.webp",
        },
      ];
    </script>
    <style></style>
  </head>
  <body>
    <!-- Navbar -->
    <nav
      class="navbar navbar-expand-lg navbar-light bg-body-tertiary"
      style="background-color: #6262e1"
    >
      <!-- Container wrapper -->
      <div class="container-fluid">
        <!-- Toggle button -->
        <button
          data-mdb-collapse-init
          class="navbar-toggler"
          type="button"
          data-mdb-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <i class="fa fa-bars"></i>
        </button>

        <!-- Collapsible wrapper -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <!-- Navbar brand -->
          <a class="navbar-brand mt-2 mt-lg-0" href="#"> E-commerce App </a>
          <!-- Left links -->
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="#">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Team</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Projects</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle redHover fw-semibold text-uppercase text-black me-1"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="fa fa-user fs-5 me-1" style="color: #202122"></i>
              </a>
              <ul
                class="dropdown-menu"
                style="left: -50px"
                aria-labelledby="navbarDropdown"
              >
                <li>
                  <div class="d-flex justify-content-evenly mt-2">
                    <a
                      href="#"
                      data-bs-toggle="offcanvas"
                      data-bs-target="#offcanvasRight"
                      aria-controls="offcanvasRight"
                    >
                      <button class="btn btn-danger rounded-0 px-3">
                        Login
                      </button></a
                    >
                    <a
                      href="#"
                      data-bs-toggle="modal"
                      data-bs-target="#exampleModal"
                    >
                      <button class="btn btn-danger rounded-0 px-3">
                        Register
                      </button></a
                    >
                  </div>
                </li>
              </ul>
            </li>
          </ul>

          <!-- Left links -->
        </div>
        <!-- Collapsible wrapper -->

        <!-- Right elements -->
        <div class="d-flex align-items-center">
          <!-- Icon -->
          @if(this.loggedUserData.custId==0){
          <button class="btn btn-success btn-sm" (click)="openLoginModel()">
            Login
          </button>
          <button
            class="btn btn-success btn-sm mx-2"
            (click)="openRegisterModel()"
          >
            Register
          </button>
          } @else{
          <button class="btn btn-primary btn-sm">
            {{ loggedUserData.name }}
          </button>
          <button class="btn btn-warning btn-sm mx-2" (click)="logoff()">
            Loggoff
          </button>
          }

          <a class="link-secondary me-3">
            <i class="fa fa-shopping-cart text-black" (click)="showCart()"></i>
          </a>
          <div
            [className]="
              isCartOpen
                ? 'dropdown-menu dropdown-menu-end show'
                : 'dropdown-menu dropdown-menu-end hide'
            "
            style="position: absolute; right: 13px; top: 60px"
            aria-labelledby="navbarDropdownMenuAvatar"
          >
            <div class="row">
              <div class="col-8">
                <h6>Cart Items</h6>
              </div>
              <div class="col-4 text-end">
                <i class="fa fa-close p-2" (click)="showCart()"></i>
              </div>
            </div>

            <table class="table table-sm">
              <tbody>
                @for(item of cartData; track $index){
                <tr>
                  <td>
                    <div
                      class="rounded"
                      style="
                        background-image: url({{ item.productImageUrl }});
                        width: 60px;
                        height: 60px;
                        background-size: cover;
                      "
                    ></div>
                  </td>
                  <td class="align-middle text-left">{{ item.productName }}</td>
                  <td class="align-middle text-center">{{ item.quantity }}</td>
                  <td class="align-middle text-right">
                    {{ item.productPrice }}
                  </td>
                  <td class="align-middle text-center">
                    <a
                      (click)="removeProduct(item.cartId)"
                      data-toggle="modal"
                      data-title="Delete your product ?"
                    >
                      <i class="fa fa-trash"></i>
                    </a>
                  </td>
                </tr>
                }
                <!-- <tr>
                  <td>
                    <div
                      class="rounded"
                      style="
                        background-image: url(https://unsplash.com/photos/ZBwQ2bCbJjw/download?force=true&amp;w=640);
                        width: 60px;
                        height: 60px;
                        background-size: cover;
                      "
                    ></div>
                  </td>
                  <td class="align-middle text-left">Spy Suit</td>
                  <td class="align-middle text-center">1 pieces</td>
                  <td class="align-middle text-right">$698</td>
                  <td class="align-middle text-center">
                    <a
                      href="#delete"
                      data-toggle="modal"
                      data-title="Delete your product ?"
                    >
                      <i class="fa fa-trash"></i>
                    </a>
                  </td>
                </tr> -->

                <!-- <tr>
                  <td>
                    <div
                      class="rounded"
                      style="
                        background-image: url(https://unsplash.com/photos/ZBwQ2bCbJjw/download?force=true&amp;w=640);
                        width: 60px;
                        height: 60px;
                        background-size: cover;
                      "
                    ></div>
                  </td>
                  <td class="align-middle text-left">Spy Suit</td>
                  <td class="align-middle text-center">1 pieces</td>
                  <td class="align-middle text-right">$698</td>
                  <td class="align-middle text-center">
                    <a
                      href="#delete"
                      data-toggle="modal"
                      data-title="Delete your product ?"
                    >
                      <i class="fa fa-trash"></i>
                    </a>
                  </td>
                </tr> -->

                <tr>
                  <td colspan="4" class="align-middle text-right">Quantity</td>
                  <td class="align-middle text-right">55</td>
                </tr>
                <tr>
                  <td colspan="4" class="align-middle text-right">Total</td>
                  <td class="align-middle text-right">3600</td>
                </tr>
              </tbody>
            </table>
            <div class="row">
              <div class="col-12 text-end">
                <button
                  class="btn btn-sm btn-primary"
                  (click)="isCartOpen = false"
                  [routerLink]="['create-order']"
                >
                  Checkout
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <!-- Navbar -->
  </body>
</html>
<router-outlet />

<div class="modal" id="myModal" #registerModel>
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Register</h4>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          (click)="closeRegisterModel()"
        ></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="row">
          <div class="col-12">
            <label for="">Name</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="registerObj.name"
            />
          </div>
          <div class="col-12">
            <label for="">Mobile No</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="registerObj.MobileNo"
            />
          </div>
          <div class="col-12">
            <label for="">Password</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="registerObj.Password"
            />
          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-danger"
          data-bs-dismiss="modal"
          (click)="closeRegisterModel()"
        >
          Close
        </button>
        <button
          type="button"
          class="btn btn-success"
          data-bs-dismiss="modal"
          (click)="onRegister()"
        >
          Register
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal" id="myModal" #loginModel>
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Login</h4>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          (click)="closeLoginModel()"
        ></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="row">
          <div class="col-12">
            <label for="">UserName</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="loginObj.UserName"
            />
          </div>
          <div class="col-12">
            <label for="">Password</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="loginObj.UserPassword"
            />
          </div>
          <!-- <div class="col-12">
            <label for="">Password</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="loginObj.UserPassword"
            />
          </div> -->
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-danger"
          data-bs-dismiss="modal"
          (click)="closeLoginModel()"
        >
          Close
        </button>
        <button
          type="button"
          class="btn btn-success"
          data-bs-dismiss="modal"
          (click)="onLogin()"
        >
          Login
        </button>
      </div>
    </div>
  </div>
</div>
